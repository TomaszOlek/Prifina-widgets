"use strict";(self.webpackChunk_prifina_widgets_garmin_effort_v2=self.webpackChunk_prifina_widgets_garmin_effort_v2||[]).push([[472],{7472:(M,e,N)=>{N.r(e);var D=N(1119),t=N(6470),g=N(513),j=(N(6781),N(5734),N(9120),N(8188),N(8233),N(7162)),n=N.n(j),i=N(7900),a=N.n(i),I=N(4149),z=N(2734),u="eacWDz3U5yLYJ9s9Wutatr",r=N(944),c=N(6827),o=N(8703),T=N(8445),y=N(6656),A=N(3258),E=N(4912),O=N(5484),x=N(5556),L=N(3131),s=N(2655),l=N(2418),d=I.ZP.div.withConfig({displayName:"App__Container",componentId:"sc-1oxa6dy-0"})(["height:300px;width:300px;border-radius:10px;background:linear-gradient(180deg,#2e302d 0%,#69d3c7 149.83%);padding:11px 8px 0px 8px;"]),k=function(M){var e=(0,z.usePrifina)(),N=(e.stage,e.check,e.onUpdate),j=e.API,I=e.registerDataConnector,k=(0,i.useState)({}),Q=(0,g.Z)(k,2),w=Q[0],C=Q[1],S=(0,i.useRef)(),p=function(M){console.log("ORIGINAL PROCESS DATA",M);var e=[M];console.log("newData",e),C(e),console.log("new 17")};console.log("processed data",w);var U=function(){var M=(0,t.Z)(n().mark((function M(e){return n().wrap((function(M){for(;;)switch(M.prev=M.next){case 0:console.log("UPDATE ",e),e.hasOwnProperty("data")&&e.data.hasOwnProperty("content")&&console.log("PAYLOAD DATA",e);case 2:case"end":return M.stop()}}),M)})));return function(e){return M.apply(this,arguments)}}(),m=(0,i.useState)(0),Y=(0,g.Z)(m,2),f=Y[0],h=Y[1],b=(0,i.useState)(),Z=(0,g.Z)(b,2),v=Z[0],G=Z[1];(0,i.useEffect)((function(){function M(){return(M=(0,t.Z)(n().mark((function M(){return n().wrap((function(M){for(;;)switch(M.prev=M.next){case 0:N(u,U),I(u,[r.Z]),S.current=!0;case 3:case"end":return M.stop()}}),M)})))).apply(this,arguments)}S.current||function(){M.apply(this,arguments)}()}),[]);var P=function(M){return[M.getFullYear(),(M.getMonth()+1).toString().padStart(2,"0"),M.getDate().toString().padStart(2,"0")].join("-")};return(0,i.useEffect)((function(){function M(){return(M=(0,t.Z)(n().mark((function M(){var e,N,t,g,i;return n().wrap((function(M){for(;;)switch(M.prev=M.next){case 0:return e=new Date,N=e.setDate(e.getDate()-f),t=P(new Date(N)),G(t),console.log("datestr",t),g=(0,D.Z)({},"s3::date",(0,D.Z)({},z.Op.eq,t)),console.log("FILTER",g),M.next=9,j[u].Garmin.queryDailiesData({filter:g,fields:"calendardate,durationinseconds,intensitydurationgoalinseconds,moderateintensitydurationinseconds,vigorousintensitydurationinseconds"});case 9:i=M.sent,console.log("THE NEW BUILD result",i),p(i.data.getDataObject.content);case 12:case"end":return M.stop()}}),M)})))).apply(this,arguments)}!function(){M.apply(this,arguments)}()}),[f]),console.log("day",f),a().createElement(d,null,a().createElement(c.kC,{alignItems:"center",mb:8},a().createElement(c.xv,{fontSize:16,color:"white",fontWeight:700,ml:9,mr:95},"Effort widget"),a().createElement(o.Ee,{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCA1NCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzM1ODJfMzA5NzgpIj4KPHBhdGggZD0iTTQ1LjYwNDcgMi44NjUyNEM0NC44ODc1IDQuMDc1OTMgNDQuMjk2OSA1LjIwMzEzIDQ0LjI5NjkgNS4zNzAxMkM0NC4yOTY5IDUuNTc4ODYgNDUuNTIwMyA1LjcwNDEgNDcuMDM5MSA1LjcwNDFDNDguNTU3OCA1LjcwNDEgNDkuNzgxMiA1LjYyMDYxIDQ5Ljc4MTIgNS40OTUzNkM0OS43ODEyIDUuMzI4MzcgNDcuMjkyMiAxLjA3MDA4IDQ3LjAzOTEgMC43Nzc4NDhDNDYuOTU0NyAwLjY5NDM1MyA0Ni4zMjE5IDEuNjEyODEgNDUuNjA0NyAyLjg2NTI0WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIuOTUyNzYgNy42NjYyOUMwLjg4NTU2OCA4LjQxNzc1IC0wLjE2OTEyIDEwLjgzOTEgMC42NzQ2MyAxMy4wMUMxLjA5NjUxIDE0LjAxMiAzLjEyMTUxIDE0Ljg4ODcgNS4wNjIxMyAxNC44ODg3QzcuNjc3NzYgMTQuODg4NyA4LjQzNzEzIDE0LjM0NTkgOC40MzcxMyAxMi4zNDJWMTAuNjcyMUw2LjY2NTI2IDEwLjc5NzRDNC41NTU4OCAxMC45NjQ0IDMuODgwODggMTEuOTY2MyA1LjkwNTg4IDExLjk2NjNDNi45NjA1NyAxMS45NjYzIDcuMjEzNjkgMTIuMTMzMyA3LjA4NzEzIDEyLjcxNzhDNy4wMDI3NiAxMy4yMTg4IDYuNDk2NTEgMTMuNDY5MiA1LjM5OTYzIDEzLjU1MjdDMy4xMjE1MSAxMy43NjE1IDIuMTA5MDEgMTMuMDUxOCAyLjEwOTAxIDExLjM0MDFDMi4xMDkwMSA4Ljk2MDQ3IDQuMjE4MzggOC4wODM3NiA3LjI5ODA3IDkuMjUyNzFDNy44MDQzMiA5LjQ2MTQ0IDguMDE1MjYgOS4zMzYyIDguMDE1MjYgOC44NzY5N0M4LjAxNTI2IDcuNzA4MDMgNC44NTExOSA2Ljk5ODMyIDIuOTUyNzYgNy42NjYyOVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xOS4wNjggNy45MTY3N0MxOC42ODgzIDguMzM0MjUgMTguNTYxNyA5LjU4NjY5IDE4LjY0NjEgMTEuNTkwNkMxOC43MzA1IDE0LjEzNzIgMTguODk5MiAxNC42Nzk5IDE5LjUzMiAxNC44MDUyQzIwLjEyMjYgMTQuOTMwNCAyMC4yNDkyIDE0LjYzODIgMjAuMjQ5MiAxMy40NjkyQzIwLjI0OTIgMTIuMTMzMyAyMC4zNzU4IDExLjk2NjMgMjEuMjYxNyAxMS45NjYzQzIxLjk3ODkgMTEuOTY2MyAyMi42OTYxIDEyLjQ2NzMgMjMuNDU1NSAxMy40Mjc1QzI0LjA4ODMgMTQuMjIwNyAyNC45MzIgMTQuODg4NyAyNS4zOTYxIDE0Ljg4ODdDMjYuMTk3NiAxNC44ODg3IDI2LjIzOTggMTQuODQ2OSAyNS41NjQ4IDEzLjkyODVDMjQuMzgzNiAxMi4zNDIgMjQuMzQxNCAxMS45MjQ2IDI1LjI2OTUgMTEuMjk4NEMyNi4yODIgMTAuNTg4NiAyNi40MDg2IDkuNTQ0OTQgMjUuNjQ5MiA4LjUwMTI0QzI0Ljg0NzYgNy40OTkyOSAxOS43ODUxIDcuMDQwMDcgMTkuMDY4IDcuOTE2NzdaTTI0LjAwMzkgOS4wMDIyMkMyNS4xODUxIDkuNzUzNjggMjQuMTcyNiAxMC43MTM5IDIyLjE0NzYgMTAuNzEzOUMyMC41ODY3IDEwLjcxMzkgMjAuMjQ5MiAxMC41ODg2IDIwLjI0OTIgOS45NjI0MkMyMC4yNDkyIDkuNTQ0OTQgMjAuMzc1OCA5LjA0Mzk3IDIwLjU0NDUgOC45MTg3MkMyMC45MjQyIDguNTAxMjQgMjMuMzI4OSA4LjU4NDc0IDI0LjAwMzkgOS4wMDIyMloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yOC4xMzkxIDcuNjY2NjFDMjcuOTcwMyA3Ljc5MTg1IDI3Ljg0MzggOS41MDM1MiAyNy44NDM4IDExLjQyMzlDMjcuODQzOCAxNC41NTUgMjcuOTI4MSAxNC45MzA3IDI4LjYwMzEgMTQuODA1NUMyOS4xNTE2IDE0LjcyMiAyOS4zNjI1IDE0LjEzNzUgMjkuNTMxMiAxMi4zODQxTDI5Ljc0MjIgMTAuMTI5N0wzMC43NTQ3IDEyLjMwMDZDMzEuMzQ1MyAxMy41MTEzIDMxLjkzNTkgMTQuNDcxNSAzMi4xMDQ3IDE0LjQ3MTVDMzIuMjczNCAxNC40NzE1IDMyLjk0ODQgMTMuNTExMyAzMy42MjM0IDEyLjMwMDZMMzQuODA0NyAxMC4xMjk3TDM0LjkzMTMgMTIuNTUxMUMzNS4wNTc4IDE0LjU1NSAzNS4xODQ0IDE0LjkzMDcgMzUuNzc1IDE0LjgwNTVDMzYuMzY1NiAxNC42ODAzIDM2LjUzNDQgMTQuMDk1OCAzNi42MTg4IDExLjM4MjJDMzYuNzg3NSA2Ljc0ODE2IDM1LjY0ODQgNi4xNjM2OCAzMy40OTY5IDkuNzk1NzVDMzIuNCAxMS42NzQ0IDMyLjM1NzggMTEuNjc0NCAzMS42ODI4IDEwLjgzOTVDMzEuMzAzMSAxMC4zMzg1IDMwLjY3MDMgOS4zNzgyNyAzMC4yOTA2IDguNjY4NTZDMjkuNjE1NiA3LjQ1Nzg3IDI4LjcyOTcgNy4wNDAzOSAyOC4xMzkxIDcuNjY2NjFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMzkuMjc2NCA3Ljk1ODc4QzM4Ljk4MTEgOC4zMzQ1MSAzOC44MTIzIDkuNzEyMTkgMzguODk2NyAxMS41OTA4QzM4Ljk4MTEgMTQuMTM3NSAzOS4xNDk4IDE0LjY4MDIgMzkuNzgyNyAxNC44MDU0QzQwLjQxNTUgMTQuOTMwNyA0MC40OTk4IDE0LjU1NDkgNDAuNDk5OCAxMS4zODIxQzQwLjQ5OTggNy44MzM1MyA0MC4xNjIzIDYuODczMzMgMzkuMjc2NCA3Ljk1ODc4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTQzLjU3OTcgNy42NjYyOUM0My4yIDcuNzkxNTMgNDMuMDMxMiA4Ljk2MDQ3IDQzLjAzMTIgMTEuMzgxOEM0My4wMzEyIDE0LjU5NjQgNDMuMTE1NiAxNC44ODg3IDQzLjg3NSAxNC44ODg3QzQ0LjYzNDQgMTQuODg4NyA0NC43MTg3IDE0LjU5NjQgNDQuNzE4NyAxMi41MDlWMTAuMTI5NEw0Ny4yMDc4IDEyLjU1MDhDNTAuNTgyOCAxNS44NDg5IDUxLjEzMTIgMTUuNjQwMSA1MC45NjI1IDExLjA0NzlDNTAuODc4MSA4LjI5MjUgNTAuNzA5NCA3LjU4Mjc5IDUwLjIwMzEgNy41ODI3OUM0OS43MzkxIDcuNTgyNzkgNDkuNTI4MSA4LjIwOTAxIDQ5LjM1OTQgOS43OTU0M0w0OS4xNDg0IDEyLjAwODFMNDcuMjUgMTAuMDg3N0M0NS4xNDA2IDcuOTE2NzcgNDQuMzM5MSA3LjQxNTggNDMuNTc5NyA3LjY2NjI5WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTExLjI2NDEgMTAuOTIyN0MxMC40MjAzIDEyLjY3NjEgOS43MDMxMiAxNC4yNjI2IDkuNzAzMTIgMTQuNDcxM0M5LjcwMzEyIDE1LjEzOTMgMTAuODQyMiAxNC45NzIzIDExLjEzNzUgMTQuMjYyNkMxMS40MzI4IDEzLjQyNzYgMTQuODkyMiAxMy40Mjc2IDE1LjYwOTQgMTQuMjYyNkMxNS45MDQ3IDE0LjU5NjUgMTYuNDk1MyAxNC44ODg4IDE2LjkxNzIgMTQuODg4OEMxNy42MzQ0IDE0Ljg4ODggMTcuNTA3OCAxNC40NzEzIDE1Ljk0NjkgMTEuMzQwMkMxNC44NSA5LjE2OTMxIDEzLjkyMTkgNy43OTE2MyAxMy41IDcuNzkxNjNDMTMuMTIwMyA3Ljc5MTYzIDEyLjIzNDQgOS4wNDQwNiAxMS4yNjQxIDEwLjkyMjdaTTE0LjEzMjggMTEuMTczMkMxNC45MzQ0IDEyLjcxNzkgMTQuODA3OCAxMi44ODQ5IDEzLjIwNDcgMTIuNzE3OUMxMS45ODEzIDEyLjU5MjYgMTEuOTgxMyAxMi41OTI2IDEyLjUyOTcgMTEuMjE1QzEyLjgyNSAxMC41MDUyIDEzLjE2MjUgOS44NzkwMiAxMy4yODkxIDkuODc5MDJDMTMuMzczNCA5Ljg3OTAyIDEzLjc5NTMgMTAuNDYzNSAxNC4xMzI4IDExLjE3MzJaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzM1ODJfMzA5NzgiPgo8cmVjdCB3aWR0aD0iNTQiIGhlaWdodD0iMTQuNjExOCIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMC42OTQzMzYpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="})),a().createElement(c.xu,null,a().createElement(c.kC,{h:32,justifyContent:"space-between",alignItems:"center",bg:"#236B5F",padding:"0px 65px 0px 65px",borderTopRightRadius:8,borderTopLeftRadius:8},a().createElement(T.hU,{style:{background:"transparent",border:0,cursor:"pointer",fontSize:19},"aria-label":"Search database",icon:a().createElement(y.wy,{color:"white"}),onClick:(0,t.Z)(n().mark((function M(){return n().wrap((function(M){for(;;)switch(M.prev=M.next){case 0:h(f+1);case 1:case"end":return M.stop()}}),M)})))}),a().createElement(c.xv,{color:"white"},v),a().createElement(T.hU,{disabled:0===f,style:{background:"transparent",border:0,cursor:"pointer",fontSize:19},"aria-label":"Search database",icon:a().createElement(y.XC,{color:"white"}),onClick:(0,t.Z)(n().mark((function M(){return n().wrap((function(M){for(;;)switch(M.prev=M.next){case 0:h(f-1);case 1:case"end":return M.stop()}}),M)})))})),a().createElement(c.xu,{height:202,style:{background:"rgba(251, 242, 242, 0.3)",borderBottomLeftRadius:10,borderBottomRightRadius:10}},a().createElement(A.h,{width:"100%",height:"100%"},a().createElement(E.v,{width:200,height:202,data:w,margin:{top:20,right:30,left:0,bottom:0},style:{cursor:"pointer"}},a().createElement(O.q,{strokeDasharray:"none",vertical:!1,stroke:"rgba(0, 0, 0, 0.12)"}),a().createElement(x.K,{tickLine:!1,dataKey:"0",stroke:"rgba(0, 0, 0, 0.12)",label:{value:"INTENSITY LEVEL",position:"bottom",offset:-20,stroke:"white",fontSize:10}}),a().createElement(L.B,{axisLine:!1,tickLine:!1,label:{value:"HOURS",angle:-90,stroke:"white",fontSize:10},allowDecimals:!1,type:"number",tickFormatter:function(M){return Math.floor(M/3600)},stroke:"white",domain:["0","dataMax+3600"]}),a().createElement(s.u,{cursor:{fill:"transparent"},contentStyle:{background:"rgba(0, 0, 0, 0.9)",padding:5,border:0},itemStyle:{fontSize:14},formatter:function(M){return N=(e=M)%3600,Math.floor(e/3600)+"h "+Math.floor(N/60)+"m";var e,N}}),a().createElement(l.$,{barSize:45,name:"Total duration",dataKey:"durationinseconds",fill:"#C8FFF5"}),a().createElement(l.$,{barSize:45,name:"Goal",dataKey:"intensitydurationgoalinseconds",fill:"#54B4A3"}),a().createElement(l.$,{barSize:45,name:"Moderate intensity",dataKey:"moderateintensitydurationinseconds",fill:"#269582"}),a().createElement(l.$,{barSize:45,name:"Vigorous intensity",dataKey:"vigorousintensitydurationinseconds",fill:"#23695D"}))))))};k.displayName="FitbitEffort";const Q=k;var w=N(953),C=document.getElementById("root");(0,w.createRoot)(C).render(a().createElement(Q,null))}}]);
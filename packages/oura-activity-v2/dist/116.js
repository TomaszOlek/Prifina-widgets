"use strict";(self.webpackChunk_prifina_widgets_oura_activity_v2=self.webpackChunk_prifina_widgets_oura_activity_v2||[]).push([[116],{3116:(e,M,t)=>{t.r(M);var n=t(1119),D=t(6470),r=t(513),N=(t(6781),t(5734),t(9120),t(8188),t(8233),t(7162)),a=t.n(N),c=t(7900),g=t.n(c),j=t(4149),u=t(2734),i="x7B9cQVF1KBiKYjwXpb5pAe",I=t(3280),o=t(4033),z=t(8703),A=t(8445),l=t(6656),y=t(2381),E=function(e){var M=e.color;return g().createElement(y.JO,{color:M},g().createElement("path",{fill:"currentColor",d:"M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z"}))},L=function(e){var M=e.color;return g().createElement(y.JO,{color:M},g().createElement("path",{fill:"currentColor",d:"M16 2A2 2 0 1 1 14 4A2 2 0 0 1 16 2M12.04 3A1.5 1.5 0 1 1 10.54 4.5A1.5 1.5 0 0 1 12.04 3M9.09 4.5A1 1 0 1 1 8.09 5.5A1 1 0 0 1 9.09 4.5M7.04 6A1 1 0 1 1 6.04 7A1 1 0 0 1 7.04 6M14.53 12A2.5 2.5 0 0 0 17 9.24A2.6 2.6 0 0 0 14.39 7H11.91A6 6 0 0 0 6.12 11.4A2 2 0 0 0 6.23 12.8A6.8 6.8 0 0 1 6.91 15.76A6.89 6.89 0 0 1 6.22 18.55A1.92 1.92 0 0 0 6.3 20.31A3.62 3.62 0 0 0 10.19 21.91A3.5 3.5 0 0 0 12.36 16.63A2.82 2.82 0 0 1 11.91 15S11.68 12 14.53 12Z"}))},s=function(e){var M=e.color;return g().createElement(y.JO,{color:M},g().createElement("path",{fill:"currentColor",d:"M3.5,18.5L9.5,12.5L13.5,16.5L22,6.92L20.59,5.5L13.5,13.5L9.5,9.5L2,17L3.5,18.5Z"}))},T=t(3258),x=t(4912),d=t(5484),S=t(5556),O=t(3131),m=t(2655),p=t(2418),C=j.ZP.div.withConfig({displayName:"App__Container",componentId:"sc-i9cmcy-0"})(["height:300px;width:300px;border-radius:10px;background:linear-gradient(180deg,#343434 0%,#d3bc69 149.83%);padding:11px 8px 0px 8px;"]);const U=function(e){var M=(0,u.usePrifina)(),t=(M.stage,M.check,M.onUpdate),N=M.API,j=M.registerDataConnector,y=(0,c.useState)(),U=(0,r.Z)(y,2),k=U[0],w=U[1],Q=(0,c.useState)(),f=(0,r.Z)(Q,2),h=f[0],Y=f[1],b=(0,c.useRef)(),v=function(e){console.log("ORIGINAL PROCESS DATA",e);var M=e;console.log("newData",M),w([e]),Y(M)};console.log("processed display data",k),console.log("processed data",h);var Z=function(){var e=(0,D.Z)(a().mark((function e(M){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("UPDATE ",M),M.hasOwnProperty("data")&&M.data.hasOwnProperty("content")&&console.log("PAYLOAD DATA",M);case 2:case"end":return e.stop()}}),e)})));return function(M){return e.apply(this,arguments)}}(),F=(0,c.useState)(1),_=(0,r.Z)(F,2),P=_[0],R=_[1],G=(0,c.useState)(),B=(0,r.Z)(G,2),K=B[0],W=B[1];(0,c.useEffect)((function(){function e(){return(e=(0,D.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(i,Z),j(i,[I.Z]),b.current=!0;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b.current||function(){e.apply(this,arguments)}()}),[]);var H=function(e){return[e.getFullYear(),(e.getMonth()+1).toString().padStart(2,"0"),e.getDate().toString().padStart(2,"0")].join("-")};return(0,c.useEffect)((function(){function e(){return(e=(0,D.Z)(a().mark((function e(){var M,t,D,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M=new Date,t=M.setDate(M.getDate()-P),D=H(new Date(t)),W(D),console.log("datestr",D),r=(0,n.Z)({},"s3::date",(0,n.Z)({},u.Op.eq,D)),console.log("FILTER",r),e.next=9,N[i].Oura.queryActivitySummary({filter:r,fields:"summary_date,cal_total,steps,daily_movement"});case 9:c=e.sent,console.log("RESULT",c),v(c.data.getDataObject.content);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[P]),console.log("day",P),g().createElement(C,null,g().createElement(o.kC,{alignItems:"center",mb:21},g().createElement(o.xv,{fontSize:16,color:"white",fontWeight:700,ml:9,mr:110},"Activity widget"),g().createElement(z.Ee,{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAzOCAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIuODc1IDEuMjU0MjdDMi44NzUgMS43MDM5OCAzLjQgMS44MTY0MSA1LjMxMjUgMS44MTY0MUM3LjIyNSAxLjgxNjQxIDcuNzUgMS43MDM5OCA3Ljc1IDEuMjU0MjdDNy43NSAwLjgwNDU1NiA3LjIyNSAwLjY5MjEyOCA1LjMxMjUgMC42OTIxMjhDMy40IDAuNjkyMTI4IDIuODc1IDAuODA0NTU2IDIuODc1IDEuMjU0MjdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMi44MDAzNyAzLjUzOTc5Qy0wLjA4NzEzNDggNS4wNzYzMSAtMC4wMTIxMzQ4IDkuODczMjMgMi44NzUzNyAxMS4zNzIzQzQuMzAwMzcgMTIuMTIxOCA2Ljc3NTM3IDEyLjA4NDMgNy45NzUzNyAxMS4zMzQ4QzEwLjcxMjkgOS40OTg0NyAxMC42MDA0IDQuOTYzODggNy43NTAzNyAzLjUwMjMyQzYuMzYyODcgMi43OTAyNyA0LjExMjg3IDIuNzkwMjcgMi44MDAzNyAzLjUzOTc5Wk03LjAwMDM3IDQuMjUxODNDOC4zNTAzNyA0Ljk2Mzg4IDguODc1MzcgNS44NjMzIDguODc1MzcgNy41MTIyNEM4Ljg3NTM3IDkuMDg2MjMgOC4xMjUzNyAxMC4yMTA1IDYuNjYyODcgMTAuODEwMUM0LjMzNzg3IDExLjc0NyAxLjc1MDM3IDEwLjA2MDYgMS43NTAzNyA3LjYyNDY3QzEuNzUwMzcgNS45MDA3OCAyLjIzNzg3IDQuOTYzODggMy41NTAzNyA0LjI4OTMxQzQuODYyODcgMy41NzcyNyA1LjY1MDM3IDMuNTM5NzkgNy4wMDAzNyA0LjI1MTgzWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEwLjc1IDUuNTYzNjZDMTAuNzUgMTAuMDYwOCAxMi4wNjI1IDExLjkzNDYgMTUuMjUgMTEuOTM0NkMxNi42NzUgMTEuOTM0NiAxNy4xNjI1IDExLjc0NzIgMTguMDI1IDEwLjg0NzhDMTkgOS44MzU5MiAxOS4xMTI1IDkuNDIzNjggMTkuMyA2LjM1MDY2QzE5LjQ1IDMuMzUyNTggMTkuNDEyNSAyLjk0MDM0IDE4Ljg1IDIuOTQwMzRDMTguMzYyNSAyLjk0MDM0IDE4LjI1IDMuMzkwMDYgMTguMjUgNS43NTEwNEMxOC4yNSA4Ljg5OTAyIDE3LjggMTAuMTczMiAxNi40ODc1IDEwLjc3MjhDMTUuMDI1IDExLjQ0NzQgMTQuMTI1IDExLjI2IDEyLjk2MjUgMTAuMDk4MkMxMS45NSA5LjA0ODkyIDExLjg3NSA4LjgyNDA3IDExLjg3NSA1Ljk3NTlDMTEuODc1IDMuNTM5OTYgMTEuNzYyNSAyLjk0MDM0IDExLjMxMjUgMi45NDAzNEMxMC44NjI1IDIuOTQwMzQgMTAuNzUgMy40NjUwMSAxMC43NSA1LjU2MzY2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIwLjEyNSA3LjQzNzQ2QzIwLjEyNSAxMS4xODUxIDIwLjIzNzUgMTEuOTM0NiAyMC42ODc1IDExLjkzNDZDMjEuMSAxMS45MzQ2IDIxLjI1IDExLjQ4NDkgMjEuMjUgMTAuMDYwOFY4LjE4Njk4SDIyLjkzNzVDMjQuNTg3NSA4LjE4Njk4IDI0LjY2MjUgOC4yNjE5MyAyNS42NzUgMTAuMDYwOEMyNi4yMzc1IDExLjA3MjYgMjYuOTEyNSAxMS45MzQ2IDI3LjE3NSAxMS45MzQ2QzI3LjgxMjUgMTEuOTM0NiAyNy43NzUgMTEuNzQ3MiAyNi42NSA5LjgzNTkyTDI1LjY3NSA4LjE4Njk4TDI2LjQ2MjUgNy41MTI0MUMyNy43Mzc1IDYuNDI1NjEgMjcuODUgNS4wMDE1MiAyNi43MjUgMy45MTQ3MkMyNS45IDMuMDUyNzcgMjUuNDg3NSAyLjk0MDM0IDIyLjkzNzUgMi45NDAzNEgyMC4xMjVWNy40Mzc0NlpNMjUuNjc1IDQuMjg5NDhDMjYuNTc1IDQuOTI2NTcgMjYuNzYyNSA1LjkwMDk0IDI2LjA1IDYuNjEyOTlDMjUuNzg3NSA2Ljg3NTMyIDI0LjYyNSA3LjA2MjcgMjMuNDI1IDcuMDYyN0gyMS4yNVY1LjM3NjI4VjMuNjg5ODZIMjMuMDVDMjQuMDYyNSAzLjY4OTg2IDI1LjE4NzUgMy45NTIyIDI1LjY3NSA0LjI4OTQ4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTMwLjQzNzYgNy4xMzc1OEMyOS40MjUxIDkuNDIzNjEgMjguNTI1MSAxMS40NDczIDI4LjQ1MDEgMTEuNjM0N0MyOC4zNzUxIDExLjc4NDYgMjguNTYyNiAxMS45MzQ1IDI4Ljg2MjYgMTEuOTM0NUMyOS4xNjI2IDExLjkzNDUgMjkuNjEyNiAxMS40NDczIDI5Ljg3NTEgMTAuODEwMkMzMC4zMjUxIDkuNzIzNDIgMzAuNDAwMSA5LjY4NTk0IDMyLjg3NTEgOS42ODU5NEMzNS4zNTAxIDkuNjg1OTQgMzUuNDI1MSA5LjcyMzQyIDM1Ljg3NTEgMTAuODEwMkMzNi4xMzc2IDExLjQ0NzMgMzYuNTg3NiAxMS45MzQ1IDM2Ljg4NzYgMTEuOTM0NUMzNy41MjUxIDExLjkzNDUgMzcuNjM3NiAxMi4zMDkzIDM1LjMxMjYgNy4xMDAxQzM0LjE1MDEgNC41MTQyNyAzMy4yMTI2IDIuOTQwMjggMzIuODc1MSAyLjk0MDI4QzMyLjUzNzYgMi45NDAyOCAzMS42MDAxIDQuNTE0MjcgMzAuNDM3NiA3LjEzNzU4Wk0zMy45MjUxIDYuNDI1NTRDMzQuMzc1MSA3LjUxMjM0IDM0Ljc1MDEgOC41MjQxOSAzNC43NTAxIDguNjc0MDlDMzQuNzUwMSA4LjgyNCAzMy45MjUxIDguOTM2NDMgMzIuODc1MSA4LjkzNjQzQzMxLjg2MjYgOC45MzY0MyAzMS4wMDAxIDguODI0IDMxLjAwMDEgOC42NzQwOUMzMS4wMDAxIDguMTQ5NDMgMzIuNjUwMSA0LjQzOTMxIDMyLjg3NTEgNC40MzkzMUMzMi45ODc2IDQuNDM5MzEgMzMuNDc1MSA1LjMzODc0IDMzLjkyNTEgNi40MjU1NFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="})),g().createElement(o.xu,null,g().createElement(o.kC,{h:32,justifyContent:"space-between",alignItems:"center",bg:"#FFA654",padding:"0px 65px 0px 65px",borderTopRightRadius:8,borderTopLeftRadius:8},g().createElement(A.hU,{style:{background:"transparent",border:0,cursor:"pointer",fontSize:19},"aria-label":"Search database",icon:g().createElement(l.wy,null),onClick:(0,D.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(P+1);case 1:case"end":return e.stop()}}),e)})))}),g().createElement(o.xv,null,K),g().createElement(A.hU,{disabled:1===P,style:{background:"transparent",border:0,cursor:"pointer",fontSize:19},"aria-label":"Search database",icon:g().createElement(l.XC,null),onClick:(0,D.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(P-1);case 1:case"end":return e.stop()}}),e)})))})),g().createElement(o.xu,{height:190,style:{background:"rgba(251, 242, 242, 0.3)",borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingTop:10}},g().createElement(o.kC,{width:"100%",justifyContent:"space-between",style:{paddingRight:55,paddingLeft:55}},g().createElement(o.kC,{alignItems:"center"},g().createElement(E,{color:"#FFA654"}),g().createElement(o.xv,{ml:3,color:"#FFA654"},void 0===h?0:h.cal_total)),g().createElement(o.kC,{alignItems:"center"},g().createElement(L,{color:"#FFE9D5"}),g().createElement(o.xv,{ml:3,color:"#FFE9D5"},void 0===h?0:h.steps)),g().createElement(o.kC,{alignItems:"center"},g().createElement(s,{color:"#F8F043"}),g().createElement(o.xv,{ml:3,color:"#F8F043"},void 0===h?0:h.daily_movement))),g().createElement(T.h,{width:"100%",height:"100%"},g().createElement(x.v,{style:{cursor:"pointer"},data:k,margin:{top:5,right:0,left:0,bottom:30}},g().createElement(d.q,{strokeDasharray:"none",stroke:"null"}),g().createElement(S.K,{hide:!0,dataKey:"name"}),g().createElement(O.B,{hide:!0}),g().createElement(m.u,{cursor:{fill:"transparent"},contentStyle:{background:"rgba(0, 0, 0, 0.9)",padding:5,border:0},itemStyle:{fontSize:14}}),g().createElement(p.$,{barSize:45,name:"Calories",dataKey:"cal_total",fill:"#FFA654"}),g().createElement(p.$,{barSize:45,name:"Steps",dataKey:"steps",fill:"#FFE9D5"}),g().createElement(p.$,{barSize:45,name:"Distance",dataKey:"daily_movement",fill:"#F8F043"}))))))};var k=t(953),w=document.getElementById("root");(0,k.createRoot)(w).render(g().createElement(U,null))}}]);